<div class="flex flex-wrap bg-white dark:bg-gray-900">
  <!-- Background Image Section -->
  <div class="pointer-events-none relative hidden h-screen select-none bg-black dark:bg-gray-800 md:block md:w-1/2">
    <img class="-z-1 absolute top-0 h-full w-full object-cover opacity-90 transform -scale-x-100"
      src="/assets/images/background/3383108.jpg" alt="Background Image" layout="fill" objectFit="cover" />
  </div>

  <!-- Register Form Section -->
  <div class="flex w-full flex-col md:w-1/2 dark:bg-gray-900">
    <div class="flex justify-center pt-12 md:-mb-24 md:justify-start md:pl-12">
      <a class="border-b-gray-700 dark:border-b-gray-300 border-b-4 pb-2 text-2xl font-bold text-gray-900 dark:text-gray-100"
        href="#">Ecommerce</a>
    </div>
    <div class="lg:w-[28rem] mx-auto my-auto flex flex-col justify-center pt-8 md:justify-start md:px-6 md:pt-0">
      <p class="text-left text-3xl font-bold text-gray-900 dark:text-gray-100">Register</p>
      <p class="mt-2 text-left text-gray-500 dark:text-gray-400">Please enter your details to register.</p>

      <!-- Register Form -->
      <form (ngSubmit)="onSubmit()" #registerForm="ngForm" class="flex flex-col pt-3 md:pt-8">
        <div class="flex flex-col pt-4">
          <input name="username" [(ngModel)]="userData.username" placeholder="Full Name"
            class="w-full p-2 border-b-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
            required type="text" />
        </div>
        
        <div class="flex flex-col pt-4 relative">
          <input [type]="'password'" name="password" [(ngModel)]="userData.password"
            placeholder="Password"
            class="w-full p-2 border-b-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
            required />
        </div>
        <div class="flex flex-col pt-4 relative">
          <input [type]="'password'" name="confirmPassword" [(ngModel)]="confirmPassword"
            placeholder="Confirm Password"
            class="w-full p-2 border-b-2 border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200"
            required />
        </div>
        <button type="submit"
          class="w-full rounded-lg bg-gray-900 dark:bg-blue-600 px-4 py-2 text-center text-base font-semibold text-white shadow-md ring-gray-500 ring-offset-2 transition focus:ring-2 mt-4 hover:bg-gray-800 dark:hover:bg-blue-500">
          Register
        </button>
      </form>
      <div class="py-12 text-center">
        <p class="whitespace-nowrap text-gray-600 dark:text-gray-400">
          Already have an account?
          <a href="/auth/login"
            class="underline-offset-4 font-semibold text-gray-900 dark:text-gray-100 underline">Login here.</a>
        </p>
      </div>
    </div>
  </div>

  <div *ngIf="showModal" class="fixed inset-0 flex items-center justify-center z-50">
    <div class="fixed inset-0 bg-gray-900 opacity-50"></div>
    <div class="relative p-6 max-w-md mx-auto text-center rounded-lg shadow-lg"
      [ngClass]="{'bg-green-100 dark:bg-green-800': modalType === 'success', 'bg-red-100 dark:bg-red-800': modalType === 'error'}">
      <p [ngClass]="{'text-green-600 dark:text-green-400': modalType === 'success', 'text-red-600 dark:text-red-400': modalType === 'error'}"
        class="font-semibold">{{ modalMessage }}</p>
      <p class="text-gray-500 dark:text-gray-300 mt-2">Closing in {{ countdown }} seconds...</p>
      <button (click)="showModal = false" class="w-full mt-4 py-2"
        [ngClass]="{'bg-green-500 dark:bg-green-600 hover:bg-green-700 text-white rounded-md': modalType === 'success', 'bg-red-500 dark:bg-red-600 hover:bg-red-700 text-white rounded-md': modalType === 'error'}">
        Close
      </button>
    </div>
  </div> 
</div>